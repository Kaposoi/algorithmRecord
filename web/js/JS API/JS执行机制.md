# JS执行机制

js是单线程的。

所有任务需要排队，如果队列过长会导致渲染不连贯。



同步和异步：



同步：前一个任务结束后再去执行后一个任务

异步：同时执行多个任务



同步任务

同步任务都在主线程上执行，形成一个执行栈。



异步任务

js的异步是通过回调函数来实现的。

一般分为三种类型

1. 普通事件，如click，resize等。
2. 资源加载，如load，error等。
3. 定时器，包括Interval和TimeOut。

异步任务将回调函数添加到任务队列（消息队列）中。



先执行执行栈中的同步任务，异步任务放入任务队列中，一旦执行栈中的所有同步任务执行完毕，系统按次序读取任务队列中的异步任务，被读取的异步任务结束等待状态，进入执行栈，开始执行。



主线程不断的获取任务，执行任务，再获取任务，执行任务。。。这种机制称为事件循环。